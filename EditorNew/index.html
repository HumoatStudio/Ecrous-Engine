<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor</title>
    <link rel="stylesheet" href="styles.css" id="Stylesheet">
    <link rel="stylesheet" href="styles/TabbyAI.css" id="AIStylesheet">
    <link rel="stylesheet" href="styles/SpriteEditor.css" id="Stylesheet">
    <link rel="stylesheet" href="styles/3dObjects.css" id="Stylesheet">
    <link rel="stylesheet" href="styles/UpPanel/UpPanel.css" id="UpPanelStylesheet">
    <link rel="stylesheet" href="styles/UpPanel/UpPanelScreenSize.css" id="UpPanelScreenSizeStylesheet">
    <link rel="stylesheet" href="styles/RightPanel/RightPanel.css" id="RightPanelStylesheet">
    <link rel="stylesheet" href="styles/RightPanel/RightPanelScreenSize.css" id="RightPanelScreenSizeStylesheet">
    <link rel="stylesheet" href="styles/LeftPanel/LeftPanel.css" id="LeftPanelStylesheet">
    <link rel="stylesheet" href="styles/LeftPanel/LeftPanelScreenSize.css" id="LeftPanelScreenSizeStylesheet">
    <link rel="stylesheet" href="styles/SlashScript/SlashScript.css" id="SlashScriptStylesheet">
    <link rel="stylesheet" href="styles/NexLang/NexLang.css" id="NexLangStylesheet">
    <link rel="stylesheet" href="styles/BuildSettingsMenu.css" id="BUildSettingStylesheet">
    <link rel="stylesheet" href="styles/ScriptMenu.css" id="ScriptMenuStylesheet">
    <link rel="stylesheet" href="styles/RunMenu.css" id="RunMenuStylesheet">
    <link rel="stylesheet" href="styles/fonts.css" id="FontsStylesheet">
    <link rel="stylesheet" href="styles/RunLoading.css" id="RunLoadingStylesheet">
    <link rel="stylesheet" href="styles/BackgroundOptions.css" id="BGOptionsStylesheet">
    <link rel="stylesheet" href="styles/UI Menu.css" id="GUIMenuStylesheet">
    <link rel="stylesheet" href="styles/CameraPanel.css" id="CameraPanelStylesheet">
    <link rel="stylesheet" href="styles/3dObjects.css" id="3dObjectsStylesheet">
    <link rel="stylesheet" href="styles/PlusObjectsEditor.css" id="Stylesheet">
</head>
<body>
    <div class="upPanel">
        <button class="Exit">
            <div class="ExitImg"></div>
        </button>
        <button class="Plus" onclick="openPlusObjectsEditor()">
            <div class="PlusImg"></div>
        </button>
        <button class="Scripting" onclick="openScriptMenu()">
            <div class="ScriptingImg"></div>
        </button>
        <button class="AI" onclick="openAIEditor()">
            <div class="AIImg"></div>
        </button>
    </div>
    <div class="rightPanel">
        <button class="VisualScript" onclick="openVisualScriptEditor()">
            <div class="VisualScriptImg"></div>
        </button>
        <button class="Resources" onclick="openResourcesEditor()">
            <div class="ResourcesImg"></div>
        </button>
        <button class="Ads">
            <div class="AdsImg"></div>
        </button>
        <button class="BuildSettings" onclick="openBuildSettingsMenu()">
            <div class="BuildSettingsImg"></div>
        </button>

        <button class="Settings" onclick="openSettingsEditor()">
            <div class="SettingsImg"></div>
        </button>
        <button class="Play" onclick="openRunLoading()">
            <div class="PlayImg"></div>
        </button>
    </div>

    <div class="leftPanel">
        <button class="Cursor" onclick="enableCursorMode()">
            <div class="CursorImg"></div>
        </button>
        <button class="Transform" onclick="enableTransformMode()">
            <div class="TransformImg"></div>
        </button>
        <button class="Rotate" onclick="enableRotateMode()">
            <div class="RotateImg"></div>
        </button>
        <button class="Scale" onclick="enableScaleMode()">
            <div class="ScaleImg"></div>
        </button>
    </div>

    <div id="panel"></div>

    <!-- PlusObjectsEditor -->
    <div id="PlusObjectsEditorPanel" class="PlusObjectsEditor-panel" style="display: none;">
        <button class="close-PlusObjectsEditor" onclick="closePlusObjectsEditor()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titlePlusObjectsEditor">Создать</h1>
        <div class="scroll-containerPlus">
            <div class="PlusObjectsEditor-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
                <!-- <button class="PlusObjectsEditor-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;" onclick="openThreeDMenu()">
                    3D Object (broken)
                </button> -->
                <button class="PlusObjectsEditor-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;" onclick="open2DMenu()">
                    2D Object (broken)
                </button>
                <button class="PlusObjectsEditor-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;" onclick="openUIMenu()">
                    UI
                </button>
                <button class="PlusObjectsEditor-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;">
                    Light (broken)
                </button>
                <button class="PlusObjectsEditor-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;" onclick="openCameraPanel()">
                    Camera (broken)
                </button>
                <button class="PlusObjectsEditor-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;" onclick="openBackgroundOptions()">
                    Background Options
                </button>
            </div>
        </div>
    </div>

    <!-- AIEditor -->
    <div id="AIEditorPanel" class="AIEditor-panel" style="display: none;">
        <button class="close-AIEditor" onclick="closeAIEditor()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleAIEditor">Tabby AI</h1>
        <div class="AIEditor-content">
            <div class="chat-container">
                <div id="userMessageContainer" class="messages-container"></div>
                <div id="AIMessageContainer" class="messages-container"></div>
            </div>
            <input type="text" id="userQuestion" placeholder="Задайте вопрос..." onkeydown="handleEnter(event)">
            <button class="send-button" onclick="checkQuestion()">Отправить</button>
        </div>
    </div>          

    <!-- 3DObjects Submenu -->
    <div id="ThreeDObjectsMenuPanel" class="PlusObjectsEditor-panel" style="display: none;">
        <button class="close-ThreeDObjectsMenu" onclick="closeThreeDMenu()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleThreeDObjectsMenu">3D Объекты</h1>
        <div class="scroll-containerPlus">
            <div class="ThreeDObjectsMenu-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="CreateGUIPanel()">
                    Cube
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="CreateGUIText()">
                    Sphere
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;">
                    Capsule
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;">
                    Cylinder
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;">
                    Plane
                </button>
            </div>
        </div>
    </div>

    <!-- 3DObjects Submenu -->
    <div id="ThreeDObjectsMenuPanel" class="PlusObjectsEditor-panel" style="display: none;">
        <button class="close-ThreeDObjectsMenu" onclick="closeThreeDMenu()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleThreeDObjectsMenu">2D Объекты</h1>
        <div class="scroll-containerPlus">
            <div class="ThreeDObjectsMenu-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;">
                    GUI Square
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;">
                    GUI Circle
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;">
                    GUI Triangle
                </button>
            </div>
        </div>
    </div>

    <!-- UI Submenu -->
    <div id="UIMenuPanel" class="PlusObjectsEditor-panel" style="display: none;">
        <button class="close-UIMenu" onclick="closeUIMenu()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleUIMenu">UI</h1>
        <div class="scroll-containerPlus">
            <div class="UIMenu-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="CreateUIPanel()">
                    UI Panel
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="CreateUIText()">
                    UI Text
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;">
                    UI RawImage (broken)
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="CreateUIImage()">
                    UI Image
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="CreateUIVideo()">
                    UI Video
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="CreateUIButton()">
                    UI Button
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="CreateUITextField()">
                    UI Input Field (broken)
                </button>
                <button class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;">
                    UI Scroll (broken)
                </button>
            </div>
        </div>
    </div>

    <!-- BackgroundOptions Submenu -->
    <div id="BackgroundOptionsPanel" class="PlusObjectsEditor-panel" style="display: none;">
        <button class="close-BackgroundOptions" onclick="closeBackgroundOptions()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleBackgroundOptions">Настройки Фона</h1>
        <div class="scroll-containerPlus">
            <div class="BackgroundOptions-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
                <input type="color" id="backgroundColor" class="text-input-BackgroundOptions" value="#000000">
                <input type="text" id="backgroundUrl" class="text-input-BackgroundOptions" placeholder="Enter image URL">
                <button id="applyBackground">Apply Background</button>
            </div>
        </div>
    </div>

    <!-- ScriptMenu -->
    <div id="ScriptMenuPanel" class="ScriptMenu-panel" style="display: none;">
        <button class="close-ScriptMenu" onclick="closeScriptMenu()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleScriptMenu">Выбор ЯП</h1>
        <div class="scroll-containerPlus">
            <div class="ScriptMenu-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
                <!-- NexLang Button with version selector -->
                <div class="language-panel" style="display: flex; flex-direction: column; align-items: center;">
                    <button id="NexLangBtn" class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="openNexLangScript()">
                        NexLang <span id="NexLangVersion">[1.6]</span>
                    </button>
                    <select id="NexLangSelect" style="margin-top: 10px; width: 100px; padding: 5px; font-size: 16px;" onchange="updateVersion('NexLang')">
                        <option value="1.2">Alpha 1.2</option>
                        <option value="1.3">Beta 1.3</option>
                        <option value="1.4">Beta 1.4</option>
                        <option value="1.5">Beta 1.5</option>
                        <option value="1.6" selected>Beta 1.6</option>
                    </select>
                </div>

                <!-- SlashScript Button with version selector -->
                <div class="language-panel" style="display: flex; flex-direction: column; align-items: center;">
                    <button id="SlashScriptBtn" class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;" onclick="openSlashScript()">
                        SlashScript <span id="SlashScriptVersion">[2.0]</span>
                    </button>
                    <select id="SlashScriptSelect" style="margin-top: 10px; width: 100px; padding: 5px; font-size: 16px;" onchange="updateVersion('SlashScript')">
                        <option value="1.0">1.0</option>
                        <option value="2.0" selected>2.0</option>
                    </select>
                </div>

                <!-- PJScript Button with version selector -->
                <div class="language-panel" style="display: flex; flex-direction: column; align-items: center;">
                    <button id="PJScriptBtn" class="GUIMenu-button" style="width: 300px; height: 100px; background: linear-gradient(45deg, rgb(132, 126, 133), rgb(163, 151, 175)); border: none; border-radius: 10px; color: white; font-size: 18px; cursor: pointer;">
                        PJScript <span id="PJScriptVersion">[1.0]</span>
                    </button>
                    <select id="PJScriptSelect" style="margin-top: 10px; width: 100px; padding: 5px; font-size: 16px;" onchange="updateVersion('PJScript')">
                        <option value="1.0">1.0</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- NexLangScript -->
    <div id="NexLangScriptPanel" class="NexLangScript-panel" style="display: none;">
        <button class="close-NexLangScript" onclick="closeNexLangScript()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleNexLangScript">NexLang IDE</h1>
        <div class="NexLangScript-content">
            <div class="ide-text-field-container" style="left: 50px; top: 50px;">
                <div class="drag-handle">Переместите</div>
                <textarea id="codeInput" class="ide-text-field" placeholder="Введите ваш код..."></textarea>
                <div class="resize-corner"></div>
            </div>
            <button onclick="processCode()" class="create-button">Создать</button> <!-- New button -->
        </div>
    </div>

    <!-- SlashScript -->
    <div id="SlashScriptPanel" class="SlashScript-panel" style="display: none;">
        <button class="close-SlashScript" onclick="closeSlashScript()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleSlashScript">SlashScript IDE</h1>
        <div class="SlashScript-content">
            <div class="ide-text-field-container-sls" style="left: 50px; top: 50px;">
                <div class="drag-handle-sls">Переместите</div>
                <textarea id="codeInput" class="ide-text-field-sls" placeholder="Введите ваш код..."></textarea>
                <div class="resize-corner-sls"></div>
            </div>
            <button onclick="processCode()" class="create-button-sls">Создать</button> <!-- New button -->
        </div>
    </div>

    <!-- SpritesEditor -->
    <div id="SpritesEditorPanel" class="SpritesEditor-panel" style="display: none;">
        <button class="close-SpritesEditor" onclick="closeSpritesEditor()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleSpritesEditor">Загрузить...</h1>
        <div class="SpritesEditor-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
            <input type="file" id="uploadSprite" accept="image/*" style="padding: 10px; border-radius: 5px; border: 1px solid #ccc; cursor: pointer;">
            <div id="spritePreview" style="margin-top: 20px; display: flex; justify-content: center; align-items: center; border: 1px dashed #ccc; width: 300px; height: 300px; background-color: #f0f0f0;">
                <span style="color: #aaa;">Предпросмотр изображения</span>
            </div>
        </div>
    </div>

    <!-- BuildSettingsMenu -->
    <div id="BuildSettingsMenuPanel" class="BuildSettingsMenu-panel" style="display: none;">
        <button class="close-BuildSettingsMenu" onclick="closeBuildSettingsMenu()">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <h1 class="titleBuildSettingsMenu">Настройки</h1>
        <div class="scroll-containerPlus">
            <div class="BuildSettingsMenu-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
                <input type="text" id="projectName" class="text-input-BuildSettingsMenu" placeholder="Название проекта...">
                <input type="text" id="projectPackage" class="text-input-BuildSettingsMenu" placeholder="Пакет проекта...">
                <input type="text" id="projectVersion" class="text-input-BuildSettingsMenu" placeholder="Версия проекта v.1.0.0">
                <input type="text" id="projectAuthor" class="text-input-BuildSettingsMenu" placeholder="Автор проекта...">
                <input type="text" id="projectBuildNum" class="text-input-BuildSettingsMenu" placeholder="Номер сборки 1">
            </div>
        </div>
        <button class="save-json-button" onclick="saveJSON()">Сохранить JSON</button>
    </div>

    <!-- RunLoading -->
    <div id="RunLoadingPanel" class="RunLoading-panel" style="display: none;">
        <div class="RunLoading-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
            <h1 class="MadeWithTitle">Made With Ecrous Engine</h1>
            <div class="AppMade">
                <img src="sprites/app.jpg" alt="LogoApp">
            </div>
        </div>
    </div>

    <!-- RunMenu -->
    <div id="RunMenuPanel" class="RunMenu-panel" style="display: none;">
        <button class="close-RunMenu" onclick="this.parentElement.style.display = 'none'">
            <img src="sprites/Close.png" alt="Закрыть">
        </button>
        <div class="RunMenu-content" style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
            <!-- Сюда добавляются новые элементы -->
        </div>
    </div>

    <script src="script.js"></script>
    <script src="scripts/TabbyAI.js"></script>
    <script src="scripts/3dObjects.js"></script>
    <script src="scripts/SpriteEditor.js"></script>
    <script src="scripts/BackgroundOptions.js"></script>
    <script src="scripts/ScriptMenu.js"></script>
    <script src="scripts/BuildSettingsMenu.js"></script>
    <script src="scripts/RunLoading.js"></script>
    <script src="scripts/RunMenu.js"></script>
    <script src="scripts/PlusObjectsEditor.js"></script>
    <script src="scripts/NexLang/NexLang.js"></script>
    <script src="scripts/SlashScript/SlashScript.js"></script>
    <script src="scripts/UIMenu.js"></script>
    <script src="scripts/LPVersion.js"></script>
    <script src="scripts/UIPanel.js"></script>
    <script src="scripts/CameraPanel.js"></script>
    <script src="scripts/UIText.js"></script>
    <script src="scripts/UIImage.js"></script>
    <script src="scripts/UIVideo.js"></script>
    <script src="scripts/UIField.js.js"></script>
    <script src="scripts/UIButton.js"></script>
    <script src="scripts/Transform.js"></script>
</body>
</html>